<nav>
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
    <li class="breadcrumb-item active">Dashboard</li>
  </ol>
</nav>

<h5>Dashboard</h5>

<div class="row">
  <div class="col-lg-3 pb-3" style="background-color: #e9e6e6">
    <div class="row">
      <div
        class="col-11 text-white text-center mx-auto rounded pt-2 pb-2 font-weight-bold"
        style="
          background-color: #a39e9e;
          font-family: 'Arial Narrow Bold', sans-serif;
        "
      >
                                                                                                                          <!-- BUILT-IN pipes were used   {{Designation | uppercase}} -->
        {{ Designation | uppercase }}                                                                      
      </div>
      <div class="col-12 text-center mt-2">
        <img src="assets/logo" width="120px" />
      </div>
      <div
        class="col-12 text-center pt-2 pb-2 font-weight-bold"
        style="font-family: Tahoma"
      >
                                                                                                                           <!-- BUILT-IN pipes were used   {{ Username | lowercase}} -->
        {{ Username | lowercase}} 
      </div>
      <div class="col-12 text-center pt-2 pb-2" style="font-family: Arial">
        TEAM SUMMARY
      </div>
      <div class="col-12 mb-3">
        <ul class="list-group">
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            NO. OF TEAM MEMBERS7
            <span
              class="badge badge-secondary badge-pill  text-black"
              style="font-size: 13px"
              >{{ NoOfTeamMembers }}</span
            >
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            TOTAL COST OF ALL PROJECTS
            <span
              class="badge badge-secondary badge-pill  text-black"
              style="font-size: 13px"
              >$ {{ TotalCostOfAllProjects }} k</span
            >
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            PENDING TASKS
            <span
              class="badge badge-secondary badge-pill  text-black"
              style="font-size: 13px"
              >{{ PendingTasks }}</span
            >
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            UPCOMING PROJECTS
            <span
              class="badge badge-secondary badge-pill text-black "
              style="font-size: 13px">
                                                                                                                          <!-- BUILT-IN pipes were used {{ UpComingProjects | percent }} -->
              {{ UpComingProjects | percent }}</span
            >
          </li>
        </ul>
      </div>
      <div
        class="col-12 text-center pt-2 pb-2"
        style="font-family: 'Arial Narrow'"
      >
        CLIENTS
      </div>
      <div class="col-12">
        <ul class="list-group list-group-flush">
                                                                                                                            <!-- BUILT-IN pipes were used {{Clients | slice: 0:10 }}  -->
          <li class="list-group-item" *ngFor="let Clients of Clients">{{Clients}}</li>
        </ul>
                                                                                                                                       <!-- {{TeamMembersSummary | json }} -->
      </div>
    </div>
  </div> 
  <div class="col-lg-6">
    <div class="row">
      <div class="col-12 pt-0 pb-2" style="background-color: #e9e6e6;">
        <div class="row mt-2">
            <div class="col-6 text-left">                                                                                                  <!-- Dropdown on the left -->
              <select class="form-select" id="projectDropdown" (change)="onProjectChange($event)">
                <option disabled selected>Select a project</option>
                <option *ngFor="let project of Projects" [value]="project">{{ project }}</option>
            </select>
            </div>
            <div class="col-6 text-right">                                                                                                 <!-- Dropdown on the right -->
                <select class="form-select" id="yearDropdown" onchange="selectYear(this.value)">
                    <option value="2019"  *ngFor="let Year of Year" >{{Year}}</option>
                    
                </select>
            </div>
        </div>
      </div>
      <div class="col-11 mx-auto mt-1 text-white text-center pt-2 pb-2 mx-auto rounded font-weight-bold"
        style="background-color: #718d97; font-family: 'Arial Narrow'"
      >
        PROJECT BRIEFING
      </div>
      <div class="col-12">
        <table class="table table-borderless ">
          <tr>
            <td class="pt-3 pb-2">Project Cost</td>
                                                                                                                        <!-- BUILT-IN pipes were used { ProjectCost | currency:"USD"}}-->
            <td>{{ ProjectCost | currency:"USD"}}</td>
          </tr>
          <tr>
            <td class="pt-3 pb-2">Current Expenditure</td>
                                                                                                                        <!-- BUILT-IN pipes were used { ProjectCost | currency:"USD"}}-->
            <td>{{ CurrentExpenditure |currency:"USD" }}</td>
          </tr>
          <tr>
            <td class="pt-3 pb-2">Available Funds</td>
                                                                                                                        <!-- BUILT-IN pipes were used { ProjectCost | currency:"USD"}}-->
            <td>{{ AvailableFunds |currency:"USD" }}</td>
          </tr>
        </table>
      </div>
      <div
        class="col-11 mx-auto mt-1 text-white text-center pt-2 pb-2 mx-2 rounded font-weight-bold"
        style="background-color: #718d97; font-family: 'Arial Narrow'"
      >
        TEAM MEMBERS SUMMARY
      </div>
      <div class="col-12">
        <table class="table">
          <tr>
            <th class="pt-3 pb-2">Region</th>
            <th>Team Members Count</th>
            <th>Temporarily Unavailable Members</th>
          </tr>
          <tr *ngFor="let teamMembersSummary of TeamMembersSummary">
             <td>
              <b>{{teamMembersSummary.Region}}</b>
             </td>
             <td>{{teamMembersSummary.TeamMembersCount}}</td>
             <td>{{teamMembersSummary.TemporarilyUnavailableMembers}}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-3" style="background-color: #e9e6e6">
    <div class="row">
      <div
        class="col-11 mx-auto mt-1 text-white text-center pt-1 pb-2 mx-2 rounded font-weight-bold"
        style="background-color: #718d97; font-family: 'Arial Narrow'"
      >
        TEAM MEMBERS
      </div>
      <div class="col-lg-12 pt-2">
        <div class="accordion" id="accordion1">
          <!-- east starts -->
          <div class="card" *ngFor="let TeamMembersGroup of TeamMembers; let i=index">
           
                                                                                                                                               <!-- <div *ngIf="i!=0">-->
            <div class="card-header bg-secondary" id="card1">
              <h2 class="mb-0">
                <button
                  class="btn btn-link text-white"
                  type="button"
                  data-toggle="collapse"
                  [attr.data-target]=" '#cardbody' + i">{{TeamMembersGroup.Region}}
                </button>
              </h2>
            </div>
              <div [id]=" '#cardbody' + i"  class="collapse" data-parent="#accordion1" [ngClass]="(i == 0)? 'show': '' " >
                <div class="card-body">
                  <div *ngIf="i==0; then firstTemplate; else secondTemplate ">
                      
                  </div>
                <ng-template #firstTemplate>
                  <div class="card" *ngFor="let Members of TeamMembersGroup.Members" >
                    <div class="card-header bg-primary text-white">#{{Members.Id}} {{Members.Name}}</div>
                    <div class="card-body">{{Members.Status}}

                    </div>
                  </div>

                </ng-template>
                

                <ng-template #secondTemplate>

                </ng-template>
          
                <table class="table">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Name</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let Members of TeamMembersGroup.Members">
                      <td>{{Members.ID}}</td>
                      <td>{{Members.Name}}</td>
                      <td [style.color]="(Members.Status == 'Busy')? 'red': 'black'"><i class="fa fa-phone"></i>{{Members.Status}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
                                                                                                                                                     <!-- </div> -->
          <!-- east ends -->

          
          
        </div>
      </div>
    </div>
  </div>
</div>